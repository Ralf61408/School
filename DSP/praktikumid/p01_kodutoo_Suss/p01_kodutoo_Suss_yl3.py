import numpy as np
import pyqtgraph as pg
from PyQt5 import QtWidgets
import sys

def yl3_kodutoo_morse():

    # antud signaal
    #signal = [5, 5, 5, 5, 5, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 5, 5, 5, 5, 0.034213098729227766, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 5, 5, 5, 5, 0.034213098729227766, 0.034213098729227766, 0.034213098729227766, 0.02932551319648094, 5, 5, 5, 5, 0.034213098729227766, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 5, 5, 5, 5, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.024437927663734114, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 5, 5, 5, 5, 0.034213098729227766, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0.04398826979472141, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 5, 5, 5, 5, 0.04398826979472141, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 5, 5, 5, 5, 0.039100684261974585, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0.039100684261974585, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 5, 5, 5, 5, 0.039100684261974585, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 5, 5, 5, 5, 0.039100684261974585, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0.034213098729227766, 0.034213098729227766, 0.034213098729227766, 0.02932551319648094, 5, 5, 5, 5, 0.034213098729227766, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 5, 5, 5, 5, 0.039100684261974585, 0.034213098729227766, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 5, 5, 5, 5, 0.034213098729227766, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 5, 5, 5, 5, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 5, 5, 5, 5, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 5, 5, 5, 5, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 5, 5, 5, 5, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 5, 5, 5, 5, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 0.034213098729227766, 5, 5, 5, 5, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.024437927663734114, 5, 5, 5, 5, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0.04398826979472141, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 5, 5, 5, 5, 0.04398826979472141, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0.039100684261974585, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 5, 5, 5, 5, 0.039100684261974585, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 5, 5, 5, 5, 0.039100684261974585, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 5, 5, 5, 5, 0.039100684261974585, 0.034213098729227766, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 0.034213098729227766, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0.039100684261974585, 0.034213098729227766, 0.034213098729227766, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 5, 5, 5, 5, 0.034213098729227766, 0.034213098729227766, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 0.034213098729227766, 0.02932551319648094, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0.034213098729227766, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 5, 5, 5, 5, 0.034213098729227766, 0.034213098729227766, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 0.034213098729227766, 0.02932551319648094, 0.02932551319648094, 0.034213098729227766, 5, 5, 5, 5, 0.034213098729227766, 0.02932551319648094]

    signal_path = r"C:/Users/ralfs/dsp-loti.05.064-ralf-suss-b31108-23-24k/praktikumid/andmed/numpy/p01_yl5_andmed.npy"
    signal = np.load(signal_path)

    # Teisendame signaali binaarseks jadaks
    binary_signal = [1 if x == 5 else 0 for x in signal]

    # Loome ajatelje signaali visualiseerimiseks
    t = np.arange(len(binary_signal)) # t on sama pikk kui binary_signal
    t = np.append(t, t[-1] + 1)  # Lisame t-le 체he elemendi, et see oleks binary_signal'ist 체he v천rra pikem

    app = QtWidgets.QApplication(sys.argv)

    # Muudan kogu rakenduse teksti suurust
    font = QFont()
    font.setPointSize(20)  # Teen teksti suuremaks
    app.setFont(font)

    # Graafiku akna loomine
    win = pg.GraphicsLayoutWidget(show=True, title="Binaarse Signaali Visualiseerimine")
    win.resize(1000, 200)
    plot = win.addPlot(title="<span style='font-size: 20pt;'>Binaarne Signaal")
    plot.plot(t, binary_signal, stepMode=True, fillLevel=0, brush=(0, 0, 255, 150))

    # Alustame GUI peats체kliga, blokeeruv
    app.exec_()




def main():
    yl3_kodutoo_morse()


if __name__ == "__main__":
    main()

